# 编译器工作流程

1. **词法分析**：将源代码分解为标记（tokens）

   - 识别关键字（int, return等）
   - 识别标识符（变量名）
   - 识别数字字面量
   - 识别符号（=, ;, +, -等）

2. **语法分析**：根据语法规则构建抽象语法树（AST）

   - 定义类C语言的语法规则
   - 使用递归下降分析法解析标记流
   - 构建表示程序结构的树形结构

3. **代码生成**：遍历AST并生成目标汇编代码

   - 为每个语法结构生成相应的汇编指令

   - 处理变量存储和访问（使用栈帧）

   - 实现控制流结构（if, while等）

 # 扩展和改进方向

- 添加更多数据类型（如char, float）
- 实现函数调用和参数传递
- 添加数组和指针支持
- 实现更复杂的控制流结构（for, switch）
- 添加优化阶段（常量折叠、死代码消除等）
- 支持更复杂的目标架构（ARM, RISC-V等）
